{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/jeffsee/code/tinacms/.yarn/cache/@babel-runtime-npm-7.12.5-b3edb8ee8e-423fb00793.zip/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jeffsee/code/tinacms/examples/tina-cloud-starter/pages/_app.tsx\",\n    _this = this;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport \"../styles.css\";\nimport dynamic from \"next/dynamic\";\nimport { TinaEditProvider } from \"tinacms/dist/edit-state\";\nimport { Layout } from \"../components/layout\"; // @ts-ignore FIXME: default export needs to be 'ComponentType<{}>\n\nvar TinaCMS = dynamic(_c = function _c() {\n  return import(\"tinacms\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"tinacms\")];\n    },\n    modules: [\"tinacms\"]\n  }\n});\n_c2 = TinaCMS;\nvar NEXT_PUBLIC_TINA_CLIENT_ID = process.env.NEXT_PUBLIC_TINA_CLIENT_ID;\nvar NEXT_PUBLIC_USE_LOCAL_CLIENT = process.env.NEXT_PUBLIC_USE_LOCAL_CLIENT || true;\n\nvar App = function App(_ref) {\n  var _pageProps$data, _pageProps$data$getGl;\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TinaEditProvider, {\n      showEditButton: true,\n      editMode: /*#__PURE__*/_jsxDEV(TinaCMS, _objectSpread(_objectSpread({\n        branch: \"main\",\n        clientId: NEXT_PUBLIC_TINA_CLIENT_ID,\n        isLocalClient: Boolean(Number(NEXT_PUBLIC_USE_LOCAL_CLIENT)),\n        mediaStore: import(\"next-tinacms-cloudinary\").then(function (_ref2) {\n          var TinaCloudCloudinaryMediaStore = _ref2.TinaCloudCloudinaryMediaStore;\n          return TinaCloudCloudinaryMediaStore;\n        }),\n        cmsCallback: function cmsCallback(cms) {\n          import(\"react-tinacms-editor\").then(function (_ref3) {\n            var MarkdownFieldPlugin = _ref3.MarkdownFieldPlugin;\n            cms.plugins.add(MarkdownFieldPlugin);\n          });\n        },\n        documentCreatorCallback: {\n          /**\n           * After a new document is created, redirect to its location\n           */\n          onNewDocument: function onNewDocument(_ref4) {\n            var slug = _ref4.collection.slug,\n                breadcrumbs = _ref4.breadcrumbs;\n            var relativeUrl = \"/\".concat(slug, \"/\").concat(breadcrumbs.join(\"/\"));\n            return window.location.href = relativeUrl;\n          },\n\n          /**\n           * Only allows documents to be created to the `Blog Posts` Collection\n           */\n          filterCollections: function filterCollections(options) {\n            return options.filter(function (option) {\n              return option.label === \"Blog Posts\";\n            });\n          }\n        },\n        formifyCallback: function formifyCallback(_ref5) {\n          var formConfig = _ref5.formConfig,\n              createForm = _ref5.createForm,\n              createGlobalForm = _ref5.createGlobalForm;\n\n          if (formConfig.id === \"getGlobalDocument\") {\n            return createGlobalForm(formConfig);\n          }\n\n          return createForm(formConfig);\n        }\n      }, pageProps), {}, {\n        children: function children(livePageProps) {\n          var _livePageProps$data, _livePageProps$data$g;\n\n          return /*#__PURE__*/_jsxDEV(Layout, {\n            rawData: livePageProps,\n            data: (_livePageProps$data = livePageProps.data) === null || _livePageProps$data === void 0 ? void 0 : (_livePageProps$data$g = _livePageProps$data.getGlobalDocument) === null || _livePageProps$data$g === void 0 ? void 0 : _livePageProps$data$g.data,\n            children: /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, livePageProps), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, _this);\n        }\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        rawData: pageProps,\n        data: (_pageProps$data = pageProps.data) === null || _pageProps$data === void 0 ? void 0 : (_pageProps$data$getGl = _pageProps$data.getGlobalDocument) === null || _pageProps$data$getGl === void 0 ? void 0 : _pageProps$data$getGl.data,\n        children: /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, pageProps), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_c3 = App;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"TinaCMS$dynamic\");\n$RefreshReg$(_c2, \"TinaCMS\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"sources":["/Users/jeffsee/code/tinacms/examples/tina-cloud-starter/pages/_app.tsx"],"names":["dynamic","TinaEditProvider","Layout","TinaCMS","ssr","NEXT_PUBLIC_TINA_CLIENT_ID","process","env","NEXT_PUBLIC_USE_LOCAL_CLIENT","App","Component","pageProps","Boolean","Number","then","TinaCloudCloudinaryMediaStore","cms","MarkdownFieldPlugin","plugins","add","onNewDocument","slug","collection","breadcrumbs","relativeUrl","join","window","location","href","filterCollections","options","filter","option","label","formConfig","createForm","createGlobalForm","id","livePageProps","data","getGlobalDocument"],"mappings":"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","sourcesContent":["import \"../styles.css\";\nimport dynamic from \"next/dynamic\";\nimport { TinaEditProvider } from \"tinacms/dist/edit-state\";\nimport { Layout } from \"../components/layout\";\n// @ts-ignore FIXME: default export needs to be 'ComponentType<{}>\nconst TinaCMS = dynamic(() => import(\"tinacms\"), { ssr: false });\n\nconst NEXT_PUBLIC_TINA_CLIENT_ID = process.env.NEXT_PUBLIC_TINA_CLIENT_ID;\nconst NEXT_PUBLIC_USE_LOCAL_CLIENT =\n  process.env.NEXT_PUBLIC_USE_LOCAL_CLIENT || true;\n\nconst App = ({ Component, pageProps }) => {\n  return (\n    <>\n      <TinaEditProvider\n        showEditButton={true}\n        editMode={\n          <TinaCMS\n            branch=\"main\"\n            clientId={NEXT_PUBLIC_TINA_CLIENT_ID}\n            isLocalClient={Boolean(Number(NEXT_PUBLIC_USE_LOCAL_CLIENT))}\n            mediaStore={import(\"next-tinacms-cloudinary\").then(\n              ({ TinaCloudCloudinaryMediaStore }) =>\n                TinaCloudCloudinaryMediaStore\n            )}\n            cmsCallback={(cms) => {\n              import(\"react-tinacms-editor\").then(({ MarkdownFieldPlugin }) => {\n                cms.plugins.add(MarkdownFieldPlugin);\n              });\n            }}\n            documentCreatorCallback={{\n              /**\n               * After a new document is created, redirect to its location\n               */\n              onNewDocument: ({ collection: { slug }, breadcrumbs }) => {\n                const relativeUrl = `/${slug}/${breadcrumbs.join(\"/\")}`;\n                return (window.location.href = relativeUrl);\n              },\n              /**\n               * Only allows documents to be created to the `Blog Posts` Collection\n               */\n              filterCollections: (options) => {\n                return options.filter(\n                  (option) => option.label === \"Blog Posts\"\n                );\n              },\n            }}\n            formifyCallback={({ formConfig, createForm, createGlobalForm }) => {\n              if (formConfig.id === \"getGlobalDocument\") {\n                return createGlobalForm(formConfig);\n              }\n\n              return createForm(formConfig);\n            }}\n            {...pageProps}\n          >\n            {(livePageProps) => (\n              <Layout\n                rawData={livePageProps}\n                data={livePageProps.data?.getGlobalDocument?.data}\n              >\n                <Component {...livePageProps} />\n              </Layout>\n            )}\n          </TinaCMS>\n        }\n      >\n        <Layout\n          rawData={pageProps}\n          data={pageProps.data?.getGlobalDocument?.data}\n        >\n          <Component {...pageProps} />\n        </Layout>\n      </TinaEditProvider>\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}